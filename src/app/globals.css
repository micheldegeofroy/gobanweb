@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Base HTML - prevent overscroll/bounce on iOS Safari */
html {
  overflow: hidden;
  height: 100%;
  /* Prevent pull-to-refresh on Chrome Android */
  overscroll-behavior: none;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  /* iOS Safari: prevent text size adjustment on orientation change */
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  /* Prevent overscroll bounce */
  overscroll-behavior: none;
  overflow: auto;
  height: 100%;
  /* Enable momentum scrolling on iOS */
  -webkit-overflow-scrolling: touch;
}

/* Dynamic viewport height for iOS Safari (fixes 100vh issue) */
.h-dvh {
  height: 100vh;
  height: 100dvh;
}

.min-h-dvh {
  min-height: 100vh;
  min-height: 100dvh;
}

/* Prevent text selection during gameplay */
canvas {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Prevent scrolling while touching canvas (iOS/Android) */
  touch-action: none;
  /* Prevent context menu on long press */
  -webkit-touch-callout: none;
}

/* Smooth scrolling - only for non-touch devices to avoid conflicts */
@media (hover: hover) {
  html {
    scroll-behavior: smooth;
  }
}

/* Ensure buttons are touch-friendly on mobile */
button {
  min-height: 44px;
  min-width: 44px;
  /* Prevent double-tap zoom on iOS Safari */
  touch-action: manipulation;
  /* Remove tap delay on mobile browsers */
  -ms-touch-action: manipulation;
}

/* Smaller buttons allowed in nav/header areas */
button.btn-sm {
  min-height: 32px;
  min-width: 32px;
}

/* SVG cross-browser fixes */
svg {
  /* Fix SVG rendering in Safari */
  shape-rendering: geometricPrecision;
}

/* Fix flexbox in Safari */
.flex {
  -webkit-box-flex: 1;
}

/* Android Chrome specific - prevent address bar showing/hiding issues */
@supports (-webkit-appearance: none) and (stroke-color: transparent) {
  .h-dvh {
    height: -webkit-fill-available;
  }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
  .container {
    padding-left: max(0.5rem, env(safe-area-inset-left));
    padding-right: max(0.5rem, env(safe-area-inset-right));
  }
}

/* PWA Install prompt animation */
@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out forwards;
}

/* Offline banner animation */
@keyframes slide-down {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-down {
  animation: slide-down 0.3s ease-out forwards;
}
